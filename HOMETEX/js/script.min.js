window.onload=function(){ymaps.ready((function(){let e=new ymaps.Map("gim-map",{center:[55.11753006959305,36.61670549999997],zoom:16});var t=new ymaps.Placemark([55.11753006959305,36.61670549999997]);e.geoObjects.add(t),e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"])})),ymaps.ready((function(){let e=new ymaps.Map("map",{center:[55.11753006959305,36.61670549999997],zoom:16});var t=new ymaps.Placemark([55.11753006959305,36.61670549999997]);e.geoObjects.add(t),e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"])}));new Swiper(".slider-screen__container",{spaceBetween:0,navigation:{nextEl:".slider-screen__next>.slider-screen__arrow-box ",prevEl:".slider-screen__prev>.slider-screen__arrow-box "},breakpoints:{320:{slidesPerView:1},750:{slidesPerView:1.46}},centeredSlides:!0,initialSlide:1,speed:2e3,loop:"true"});const e=document.querySelectorAll(".tabs__box");document.querySelector(".tabs__nav").addEventListener("click",t=>{if("LI"!==t.target.tagName)return!1;let o=t.target.dataset.f;e.forEach(e=>{e.classList.contains(o)||"all"===o?(e.classList.remove("anime"),e.classList.remove("hide")):e.classList.add("anime")}),e.forEach(e=>{e.ontransitionend=function(){e.classList.contains("anime")&&e.classList.add("hide")}})});const t=document.querySelectorAll(".tabs__list");t.forEach(e=>{e.addEventListener("click",o=>{t.forEach(e=>{e.classList.remove("tabs__list-active")}),e.classList.add("tabs__list-active")})}),new ImageZoom(document.getElementById("tabs-images"),{offset:{vertical:-150,horizontal:300},height:400,width:800,zoomWidth:432,scale:.1,zoomStyle:"width: 300px; height: 300px;",zoomPosition:"top"});const o=document.querySelector(".gim-booking"),s=document.querySelector(".gim"),i=s.offsetTop;window.addEventListener("scroll",()=>{let e=pageYOffset;e>i&&e<=s.offsetHeight+i?o.classList.add("fixed"):o.classList.remove("fixed")});const n=document.querySelector(".header__burger"),a=document.querySelector(".header__nav");n&&n.addEventListener("click",(function(e){document.body.classList.toggle("lock"),n.classList.toggle("active"),a.classList.toggle("active")}));const l=document.querySelectorAll(".menu__link[data-goto]");document.querySelector(".header");if(l.length>0){function r(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const o=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset;n.classList.contains("active")&&(document.body.classList.remove("lock"),n.classList.remove("active"),a.classList.remove("active")),window.scrollTo({top:o,behavior:"smooth"}),e.preventDefault()}}l.forEach(e=>{e.addEventListener("click",r)})}const c=document.querySelector(".spoiler__box"),d=document.querySelector(".spoiler__button");c&&d.addEventListener("click",(function(e){c.classList.toggle("visible"),d.classList.toggle("active")}));new class{constructor(e){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e),this.modal=document.querySelector(".modal"),this.speed=!1,this.animation=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","options","textarea","[tabindex]"],this.events()}events(){this.modal&&(document.addEventListener("click",function(e){const t=e.target.closest("[data-path]");if(t){let e=t.dataset.path,o=t.dataset.animation,s=t.dataset.speed;return this.animation=o||"fade",this.speed=s?parseInt(s):300,this.modalContainer=document.querySelector(`[data-target="${e}"]`),void this.open()}e.target.closest(".modal-close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)}.bind(this)),this.modal.addEventListener("click",function(e){e.target.classList.contains("modal__container")||e.target.closest(".modal__container")||!this.isOpen||this.close()}.bind(this)))}open(){this.previousActiveElement=document.activeElement,this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout(()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()},this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap())}focusCatch(e){const t=this.modalContainer.querySelectorAll(this.focusElements),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}focusTrap(){const e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e[0].focus():this.previousActiveElement.focus()}disableScroll(){let e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}enableScroll(){let e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach(t=>{t.style.paddingRight=e}),document.body.style.paddingRight=e}unlockPadding(){this.fixBlocks.forEach(e=>{e.style.paddingRight="0px"}),document.body.style.paddingRight="0px"}}({isOpen:e=>{console.log(e),console.log("opened")},isClose:()=>{console.log("closed")}});function m(e){this.type=e}m.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],o=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(o[0].trim()),s.breakpoint=o[1]?o[1].trim():"767",s.place=o[2]?o[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,o){return Array.prototype.indexOf.call(o,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const o=this.mediaQueries[t],s=String.prototype.split.call(o,","),i=window.matchMedia(s[0]),n=s[1],a=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===n}));i.addListener((function(){e.mediaHandler(i,a)})),this.mediaHandler(i,a)}},m.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const o=t[e];o.index=this.indexInParent(o.parent,o.element),this.moveTo(o.place,o.element,o.destination)}else for(let e=0;e<t.length;e++){const o=t[e];o.element.classList.contains(this.daClassname)&&this.moveBack(o.parent,o.element,o.index)}},m.prototype.moveTo=function(e,t,o){t.classList.add(this.daClassname),"last"===e||e>=o.children.length?o.insertAdjacentElement("beforeend",t):"first"!==e?o.children[e].insertAdjacentElement("beforebegin",t):o.insertAdjacentElement("afterbegin",t)},m.prototype.moveBack=function(e,t,o){t.classList.remove(this.daClassname),void 0!==e.children[o]?e.children[o].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},m.prototype.indexInParent=function(e,t){const o=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(o,t)},m.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};new m("max").init()};
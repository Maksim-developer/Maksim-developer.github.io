window.onload=function(){const e=document.querySelector(".header__logo");e&&e.addEventListener("animationend",e=>{(()=>{const e=document.querySelector(".start"),t=document.querySelector(".start-2"),o=document.querySelector(".start-3"),s=document.querySelector(".start-4");e.classList.add("animate-1"),e.addEventListener("animationend",o=>{e.classList.remove("animate-1"),s.classList.remove("animate-1"),t.classList.add("animate-1")}),t.addEventListener("animationend",s=>{e.classList.remove("animate-1"),t.classList.remove("animate-1"),o.classList.add("animate-1")}),o.addEventListener("animationend",e=>{t.classList.remove("animate-1"),o.classList.remove("animate-1"),s.classList.add("animate-1")}),s.addEventListener("animationend",t=>{o.classList.remove("animate-1"),s.classList.remove("animate-1"),e.classList.add("animate-1")})})()}),ymaps.ready((function(){let e=new ymaps.Map("gim-map",{center:[55.11753006959305,36.61670549999997],zoom:16});var t=new ymaps.Placemark([55.11753006959305,36.61670549999997],{},{iconLayout:"default#image",iconImageHref:"img/map-icon.svg",iconImageSize:[46,63],iconImageOffset:[-20,-51]});e.geoObjects.add(t),e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"])})),ymaps.ready((function(){let e=new ymaps.Map("map",{center:[55.11753006959305,36.61670549999997],zoom:16});var t=new ymaps.Placemark([55.11753006959305,36.61670549999997],{},{iconLayout:"default#image",iconImageHref:"img/map-icon.svg",iconImageSize:[46,63],iconImageOffset:[-20,-51]});e.geoObjects.add(t),e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"])}));new Swiper(".slider-screen__container",{spaceBetween:0,navigation:{nextEl:".slider-screen__next>.slider-screen__arrow-box ",prevEl:".slider-screen__prev>.slider-screen__arrow-box "},breakpoints:{320:{slidesPerView:1,loop:"true"},750:{slidesPerView:1.46,loop:"true"},1440:{centeredSlides:!0,slidesPerView:1.95,loop:"true"}},centeredSlides:!0,initialSlide:1,speed:2e3,loop:"true"});const t=document.querySelectorAll(".tabs__box");document.querySelector(".tabs__nav").addEventListener("click",e=>{if("LI"!==e.target.tagName)return!1;let o=e.target.dataset.f;t.forEach(e=>{e.classList.contains(o)||"all"===o?(e.classList.remove("anime"),e.classList.remove("hide")):e.classList.add("anime")}),t.forEach(e=>{e.ontransitionend=function(){e.classList.contains("anime")&&e.classList.add("hide")}})});const o=document.querySelectorAll(".tabs__list");o.forEach(e=>{e.addEventListener("click",t=>{o.forEach(e=>{e.classList.remove("tabs__list-active")}),e.classList.add("tabs__list-active")})}),new ImageZoom(document.getElementById("tabs-images"),{offset:{vertical:-150,horizontal:300},height:400,width:800,zoomWidth:432,scale:.1,zoomStyle:"width: 500px; height: 300px;",zoomPosition:"top"});const s=document.querySelector(".gim-booking"),i=document.querySelector(".gim"),n=document.querySelector(".andrometa__slider"),a=document.querySelector(".header"),r=i.offsetTop;window.addEventListener("scroll",()=>{let e=window.scrollY;e>r&&e<=i.offsetHeight+r-n.offsetHeight-s.offsetHeight-a.offsetHeight?s.classList.add("fixed"):s.classList.remove("fixed")});const l=document.querySelector(".header__burger"),c=document.querySelector(".header__nav");l&&l.addEventListener("click",(function(e){document.body.classList.toggle("lock"),l.classList.toggle("active"),c.classList.toggle("active")}));const d=document.querySelectorAll(".menu__link[data-goto]");if(d.length>0){function m(e){const t=document.querySelector(".header__container"),o=e.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){const s=document.querySelector(o.dataset.goto).getBoundingClientRect().top+pageYOffset-t.offsetHeight;l.classList.contains("active")&&(document.body.classList.remove("lock"),l.classList.remove("active"),c.classList.remove("active")),window.scrollTo({top:s}),e.preventDefault()}}d.forEach(e=>{e.addEventListener("click",m)})}const p=document.querySelector(".spoiler__box"),u=document.querySelector(".spoiler__button");p&&u.addEventListener("click",(function(e){p.classList.toggle("visible"),u.classList.toggle("active")}));const h=document.querySelector(".spoiler-2__box"),f=document.querySelector(".spoiler-2__button");h&&f.addEventListener("click",(function(e){h.classList.toggle("visible"),f.classList.toggle("active")}));const y=document.querySelector(".spoiler-3__box"),v=document.querySelector(".spoiler-3__button");y&&v.addEventListener("click",(function(e){y.classList.toggle("visible"),v.classList.toggle("active")}));new class{constructor(e){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e),this.modal=document.querySelector(".modal"),this.speed=!1,this.animation=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","options","textarea","[tabindex]"],this.events()}events(){this.modal&&(document.addEventListener("click",function(e){const t=e.target.closest("[data-path]");if(t){let e=t.dataset.path,o=t.dataset.animation,s=t.dataset.speed;return this.animation=o||"fade",this.speed=s?parseInt(s):300,this.modalContainer=document.querySelector(`[data-target="${e}"]`),void this.open()}e.target.closest(".modal-close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)}.bind(this)),this.modal.addEventListener("click",function(e){e.target.classList.contains("modal__container")||e.target.closest(".modal__container")||!this.isOpen||this.close()}.bind(this)))}open(){this.previousActiveElement=document.activeElement,this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout(()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()},this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap())}focusCatch(e){const t=this.modalContainer.querySelectorAll(this.focusElements),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}focusTrap(){const e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e[0].focus():this.previousActiveElement.focus()}disableScroll(){let e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}enableScroll(){let e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach(t=>{t.style.paddingRight=e}),document.body.style.paddingRight=e}unlockPadding(){this.fixBlocks.forEach(e=>{e.style.paddingRight="0px"}),document.body.style.paddingRight="0px"}}({isOpen:e=>{},isClose:()=>{}});function g(e){this.type=e}g.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],o=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(o[0].trim()),s.breakpoint=o[1]?o[1].trim():"767",s.place=o[2]?o[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,o){return Array.prototype.indexOf.call(o,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const o=this.mediaQueries[t],s=String.prototype.split.call(o,","),i=window.matchMedia(s[0]),n=s[1],a=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===n}));i.addListener((function(){e.mediaHandler(i,a)})),this.mediaHandler(i,a)}},g.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const o=t[e];o.index=this.indexInParent(o.parent,o.element),this.moveTo(o.place,o.element,o.destination)}else for(let e=0;e<t.length;e++){const o=t[e];o.element.classList.contains(this.daClassname)&&this.moveBack(o.parent,o.element,o.index)}},g.prototype.moveTo=function(e,t,o){t.classList.add(this.daClassname),"last"===e||e>=o.children.length?o.insertAdjacentElement("beforeend",t):"first"!==e?o.children[e].insertAdjacentElement("beforebegin",t):o.insertAdjacentElement("afterbegin",t)},g.prototype.moveBack=function(e,t,o){t.classList.remove(this.daClassname),void 0!==e.children[o]?e.children[o].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},g.prototype.indexInParent=function(e,t){const o=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(o,t)},g.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};new g("max").init()};